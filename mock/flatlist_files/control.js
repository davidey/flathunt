var CJS=CJS||{};CJS.start=function(){CJS.init();CJS.findScripts();CJS.downloadScripts();if(CJS.defer){if("undefined"!=typeof (document.readyState)&&"complete"===document.readyState){CJS.processScripts()}else{CJS.addHandler(window,"load",CJS.processScripts)}}else{alert("Immediate processing is not currently supported.");CJS.processScripts()}};CJS.findScripts=function(){var D=document.getElementsByTagName("script");var A=D.length;for(var C=0;C<A;C++){var B=D[C];if("text/cjs"===CJS.getAttribute(B,"type")&&"undefined"===typeof (B.cjsfound)){CJS.aScripts[CJS.aScripts.length]=B;B.cjsfound=true}}};CJS.downloadScripts=function(){var A=CJS.aScripts.length;for(var C=0;C<A;C++){var B=CJS.aScripts[C];var D=CJS.getAttribute(B,"data-cjssrc")||CJS.getAttribute(B,"cjssrc");if(D){CJS.downloadScript(D)}}};CJS.downloadScript=function(A){CJS.dprint("downloading "+A);if(CJS.bIE||CJS.bOpera){CJS.downloadScriptImage(A)}else{CJS.downloadScriptObject(A)}};CJS.downloadScriptImage=function(B){var A=new Image();A.onload=function(){CJS.onloadCallback(B)};A.onerror=function(){CJS.onloadCallback(B)};A.src=B};CJS.downloadScriptObject=function(A){if("undefined"===typeof (document.body)||!document.body){setTimeout("CJS.downloadScriptObject('"+A+"')",50);return }var B=document.createElement("object");B.data=A;B.width=0;B.height=0;B.onload=function(){CJS.onloadCallback(A)};B.onerror=function(){CJS.onloadCallback(A)};document.body.appendChild(B)};CJS.onloadCallback=function(A){CJS.hLoaded[A]=true};CJS.execCallback=function(A){CJS.dprint("execCallback: "+A);if(0===CJS.aExecs.length){CJS.dprint("ERROR: We finished executing a script but the exec queue is empty: "+A);return }if(A==CJS.aExecs[0][0]){CJS.aExecs.splice(0,1)}else{CJS.dprint("ERROR: We finished executing a script that wasn't on the queue: "+A)}if(CJS.aExecs.length){CJS.execScript(CJS.aExecs[0][0],CJS.aExecs[0][1])}};CJS.processScripts=function(){CJS.processNextScript()};CJS.processNextScript=function(){if(CJS.aScripts.length){var A=CJS.aScripts[0];CJS.curScript=A;var C=CJS.getAttribute(A,"data-cjssrc")||CJS.getAttribute(A,"cjssrc");var B=CJS.getAttribute(A,"data-cjsexec")||CJS.getAttribute(A,"cjsexec");if(C){if("false"===B){CJS.aScripts.splice(0,1);setTimeout(CJS.processNextScript,0)}else{if(CJS.hLoaded[C]){CJS.processExternalScript(A,CJS.processNextScript);CJS.aScripts.splice(0,1)}else{CJS.dprint("processNextScript: waiting for script "+C);if("undefined"===typeof (A.startwait)){A.startwait=Number(new Date())}var D=Number(new Date())-A.startwait;if(D<CJS.maxWait){setTimeout(CJS.processNextScript,CJS.waitival)}else{CJS.dprint("Script timed out");CJS.aScripts.splice(0,1);CJS.processExternalScript("404",CJS.processNextScript)}}}}else{CJS.processInlineScript(A);CJS.aScripts.splice(0,1);setTimeout(CJS.processNextScript,0)}return }CJS.findScripts();if(CJS.aScripts.length){CJS.downloadScripts();setTimeout(CJS.processNextScript,0);return }document.write=CJS.docwriteOrig;CJS.dprint("DONE processing scripts")};CJS.processInlineScript=function(script){CJS.curScript=script;var code=script.text;CJS.dprint("processInlineScript: processing script code: "+code.substring(0,64));CJS.eval(code)};CJS.processExternalScript=function(A,C){if(A==="404"){C()}else{var B=CJS.getAttribute(A,"data-cjssrc")||CJS.getAttribute(A,"cjssrc");CJS.dprint("processExternalScript: processing script "+B);CJS.execScript(B,C)}};CJS.execScript=function(E,D){CJS.dprint("execScript: "+E);if(0===CJS.aExecs.length){CJS.aExecs[CJS.aExecs.length]=[E,D]}else{if(E!=CJS.aExecs[0][0]){CJS.dprint("execScript: queueing for later: "+E);CJS.aExecs[CJS.aExecs.length]=[E,D];return }}var F=(function(G){switch(typeof (G)){case"string":G=new Function(G);break;case"function":break;default:G=new Function()}return G})(D);var B=function(){if(this.readyState&&this.readyState!="complete"&&this.readyState!="loaded"){return }CJS.execCallback(E);this.onload=this.onreadystatechange=null;F()};var C=document.createElement("script");C.onload=C.onreadystatechange=B;C.src=E;var A=document.getElementsByTagName("script")[0];A.parentNode.insertBefore(C,A)};CJS.eval=function(code){if(window.execScript){window.execScript(code)}else{var fn=function(){window.eval.call(window,code)};fn()}};CJS.init=function(){CJS.bInited=true;CJS.defer=("undefined"===typeof (CJS.defer)?true:CJS.defer);CJS.aScripts=[];CJS.hLoaded={};CJS.aExecs=[];CJS.bIE=(-1!=navigator.userAgent.indexOf("MSIE"));CJS.bChrome=(-1!=navigator.userAgent.indexOf("Chrome/"));CJS.bOpera=(-1!=navigator.userAgent.indexOf("Opera"));CJS.curScript=null;CJS.maxWait=5000;CJS.waitival=200;CJS.docwriteOrig=document.write;document.write=CJS.docwrite};CJS.getAttribute=function(F,D){var C=F.attributes;var B=C.length;for(var E=0;E<B;E++){var A=C[E];if(D===A.nodeName){return A.nodeValue}}return undefined};CJS.addHandler=function(C,D,B,A){A=(A)?true:false;if(C.addEventListener){C.addEventListener(D,B,A)}else{if(C.attachEvent){C.attachEvent("on"+D,B)}else{if(C["on"+D]){}else{C["on"+D]=B}}}};if("undefined"!=typeof (console)&&"undefined"!=typeof (console.log)){CJS.dprint=function(A){console.log("CJS "+Number(new Date())+": "+A)}}else{CJS.dprint=function(A){}}CJS.docwrite=function(F){if(CJS.curScript){if(!CJS.curScript.docwriteTarget){CJS.curScript.docwriteTarget=document.createElement("span");CJS.curScript.parentNode.insertBefore(CJS.curScript.docwriteTarget,CJS.curScript)}var E=F.indexOf("<script");if(-1===E){CJS.dprint("docwrite: "+F.substring(0,64));CJS.curScript.docwriteTarget.innerHTML+=F}else{var D=F.indexOf("<\/script>",E)+9;if(-1!=D){var C=F.substring(0,E);var A=F.substring(E,D);var B=F.substring(D+1);if(C){CJS.dprint("docwrite: "+C.substring(0,64));CJS.curScript.docwriteTarget.innerHTML+=C+B}CJS.docwriteScript(A)}}}else{CJS.dprint("ERROR: There's a problem with the async override of document.write.")}};CJS.docwriteScript=function(B){var A=B.match(/src='([^']*)/i)||B.match(/src="([^"]*)/i)||B.match(/src=([^ >]*)/i);if(A){var C=A[1];CJS.dprint("docwriteScript url = "+C);var D=document.createElement("script");D.src=C;document.body.appendChild(D)}else{}};CJS.start()